<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="カタカナ練習アプリ"
    />
    <title>カタカナ練習アプリ</title>
    <link href="https://fonts.googleapis.com/css?family=Sawarabi+Gothic" rel="stylesheet">
    <link rel="stylesheet" href="https://github.com/necolas/normalize.css/blob/master/normalize.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.0/howler.core.min.js"></script>
  </head>
  <body>
    <div id="root"></div>

    <script src="/libs/echo.min.js"></script>
    <script>
    // 遅延読み込み設定
    echo.init({
        offset: 1000,
        throttle: 100,
        unload: false
    });


    // 効果音設定
    const sound = new Howl({
        src: ['/mp3/correct.mp3']
    });

    const soundHandler = () => {
      let hasBtn = document.getElementById('word-choise');
      if(hasBtn){
        clearInterval(loopID)
        hasBtn.querySelectorAll('li label[data-a="1"]').forEach(elem => {
          elem.addEventListener('click', function(){
            sound.play()
          }, false)
        })
      }
    }

    let loopID = setInterval(soundHandler, 500)

    </script>
  </body>
</html>
